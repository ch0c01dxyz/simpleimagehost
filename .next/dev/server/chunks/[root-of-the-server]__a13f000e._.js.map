{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/PC-3/Downloads/imagehost-main/settings.ts"],"sourcesContent":["\n// Dynamic Variables\n// %file_name%\n// %file_size%\n// %uploaded_files%\n// %file_upload_timestamp%\n\nexport const settings = {\n    embed_data: {\n        \"Site Name\": \"Uploaded at: %file_upload_timestamp%\",\n        \"Title\": \"MStoreBot | %file_name%\",\n        \"Description\": \"Size: %file_size% - %uploaded_files% total file\",\n        \"Color\": \"#7289da\",\n    },\n    site: {\n        \"Title\": \"MStoreBot Simple ImageHost\",\n        \"Description\": \"Another simple imagehost\",\n        \"Show Credits\": true,\n    },\n    page_redirect: \"https://www.upio.dev/\"\n}\n\nexport const upload_limit = 10; // MB\n\n// If you want to change the api key, use https://generate-random.org/api-keys to generate it and change it\nexport const api_key = \"mstorebot_VybPIpV76OHCrItevHCUmwKm5k7c09pcuChqASPkivhTqu4PxyZa1GoRF9cXKaxgiA4NCdnNE4AcB4kUnMq0qcqvc9DI8zBAmzK2U0sHNYHnzcNySHtCIJxu40W3G4GhgsiJ5JBF06ALt79xOdUvYMwuharVLtzrCNAqRkx5CSAFYjbwskwcoDY2yuXJaRw9YF6ix62SMGVSe7qDIUP6qSIrYUqNg1clcXXL65r4XpMcQrEfh9HNdSeOLQxLvBsQ\";\n\n// Image file expiration time in minutes (files will be deleted automatically after this time)\n// Default: 5 minutes\nexport const image_expiration_minutes = 5;"],"names":[],"mappings":"AACA,oBAAoB;AACpB,cAAc;AACd,cAAc;AACd,mBAAmB;AACnB,0BAA0B;;;;;;;;;;;AAEnB,MAAM,WAAW;IACpB,YAAY;QACR,aAAa;QACb,SAAS;QACT,eAAe;QACf,SAAS;IACb;IACA,MAAM;QACF,SAAS;QACT,eAAe;QACf,gBAAgB;IACpB;IACA,eAAe;AACnB;AAEO,MAAM,eAAe,IAAI,KAAK;AAG9B,MAAM,UAAU;AAIhB,MAAM,2BAA2B"}},
    {"offset": {"line": 226, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/PC-3/Downloads/imagehost-main/src/app/api/upload/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\nimport { put } from \"@vercel/blob\";\nimport { upload_limit, api_key } from \"../../../../settings\";\n\nfunction randomString(length: number) {\n    let result = '';\n    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    const charactersLength = characters.length;\n    for (let i = 0; i < length; i++) {\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n    return result;\n}\n\nexport async function POST(req: NextRequest) {\n    const effectiveApiKey = process.env[\"API_KEY\"] || api_key;\n\n    if (!effectiveApiKey) {\n        return NextResponse.json({\n            error: \"API key not configured.\",\n        }, { status: 500 })\n    }\n\n    if (req.headers.get(\"Authorization\") !== `Bearer ${effectiveApiKey}`) {\n        return NextResponse.json({\n            error: \"Unauthorized\",\n        }, { status: 401 })\n    }\n\n    let files;\n    try {\n        files = await req.formData();\n    } catch {\n        return NextResponse.json({\n            error: \"Invalid request. Please send multipart/form-data with a 'file' field.\",\n        }, { status: 400 })\n    }\n\n    const file = files.get(\"file\") as Blob;\n\n    if (!file || !(file instanceof Blob) || file.size === 0) {\n        return NextResponse.json({\n            error: \"No file found. Please upload a file using the 'file' field.\",\n        }, { status: 400 })\n    }\n\n    if (file.type !== \"image/png\" && file.type !== \"image/jpeg\" && file.type !== \"image/gif\" && file.type !== \"image/webp\") {\n        return NextResponse.json({\n            error: \"Only PNG, JPEG, GIF, or WebP files are allowed.\",\n        }, { status: 400 });\n    }\n\n    if (file.size > upload_limit * 1024 * 1024) {\n        return NextResponse.json({\n            error: `File size exceeds the allowed limit of ${upload_limit}MB.`,\n        }, { status: 400 });\n    }\n\n    const file_name = randomString(10);\n    const file_extension = file.type.split(\"/\")[1];\n    const full_filename = `${file_name}.${file_extension}`;\n    const { url } = await put(full_filename, file, { access: 'public' });\n\n    const host = process.env.NODE_ENV === \"development\" ? \"http://localhost:3000\" : `https://${req.nextUrl.host}`;\n\n    return NextResponse.json({\n        success: true,\n        url: `${host}/${file_name}`,\n        direct_url: url,\n        filename: full_filename,\n    });\n}"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEA,SAAS,aAAa,MAAc;IAChC,IAAI,SAAS;IACb,MAAM,aAAa;IACnB,MAAM,mBAAmB,WAAW,MAAM;IAC1C,IAAK,IAAI,IAAI,GAAG,IAAI,QAAQ,IAAK;QAC/B,UAAU,WAAW,MAAM,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK;IACzD;IACA,OAAO;AACX;AAEO,eAAe,KAAK,GAAgB;IACvC,MAAM,kBAAkB,QAAQ,GAAG,CAAC,UAAU,IAAI,qHAAO;IAEzD,IAAI,CAAC,iBAAiB;QAClB,OAAO,gJAAY,CAAC,IAAI,CAAC;YACrB,OAAO;QACX,GAAG;YAAE,QAAQ;QAAI;IACrB;IAEA,IAAI,IAAI,OAAO,CAAC,GAAG,CAAC,qBAAqB,CAAC,OAAO,EAAE,iBAAiB,EAAE;QAClE,OAAO,gJAAY,CAAC,IAAI,CAAC;YACrB,OAAO;QACX,GAAG;YAAE,QAAQ;QAAI;IACrB;IAEA,IAAI;IACJ,IAAI;QACA,QAAQ,MAAM,IAAI,QAAQ;IAC9B,EAAE,OAAM;QACJ,OAAO,gJAAY,CAAC,IAAI,CAAC;YACrB,OAAO;QACX,GAAG;YAAE,QAAQ;QAAI;IACrB;IAEA,MAAM,OAAO,MAAM,GAAG,CAAC;IAEvB,IAAI,CAAC,QAAQ,CAAC,CAAC,gBAAgB,IAAI,KAAK,KAAK,IAAI,KAAK,GAAG;QACrD,OAAO,gJAAY,CAAC,IAAI,CAAC;YACrB,OAAO;QACX,GAAG;YAAE,QAAQ;QAAI;IACrB;IAEA,IAAI,KAAK,IAAI,KAAK,eAAe,KAAK,IAAI,KAAK,gBAAgB,KAAK,IAAI,KAAK,eAAe,KAAK,IAAI,KAAK,cAAc;QACpH,OAAO,gJAAY,CAAC,IAAI,CAAC;YACrB,OAAO;QACX,GAAG;YAAE,QAAQ;QAAI;IACrB;IAEA,IAAI,KAAK,IAAI,GAAG,0HAAY,GAAG,OAAO,MAAM;QACxC,OAAO,gJAAY,CAAC,IAAI,CAAC;YACrB,OAAO,CAAC,uCAAuC,EAAE,0HAAY,CAAC,GAAG,CAAC;QACtE,GAAG;YAAE,QAAQ;QAAI;IACrB;IAEA,MAAM,YAAY,aAAa;IAC/B,MAAM,iBAAiB,KAAK,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;IAC9C,MAAM,gBAAgB,GAAG,UAAU,CAAC,EAAE,gBAAgB;IACtD,MAAM,EAAE,GAAG,EAAE,GAAG,MAAM,IAAA,0KAAG,EAAC,eAAe,MAAM;QAAE,QAAQ;IAAS;IAElE,MAAM,OAAO,uCAAyC,0BAA0B;IAEhF,OAAO,gJAAY,CAAC,IAAI,CAAC;QACrB,SAAS;QACT,KAAK,GAAG,KAAK,CAAC,EAAE,WAAW;QAC3B,YAAY;QACZ,UAAU;IACd;AACJ"}}]
}